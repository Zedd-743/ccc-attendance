<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professor Dashboard - Schedule</title>
    <link rel="stylesheet" href="attendance.css">
    <link rel="stylesheet" href="schedule.css">
</head>
<body>
    <!-- Header Section -->
    <header>
        <nav>
            <a href="/dashboard"><img src="images/logo.png" alt="Logo" class="logo"></a>
            <span class="welcome-text">Welcome, {{professorName}}</span>
        </nav>
    </header>

    <div class="dashboard-container">
        <!-- Sidebar for navigation -->
        <aside class="sidebar">
            <ul>
                <li class="sidebar-item"><a href="/dashboard">Dashboard</a></li>
                <li class="sidebar-item"><a href="/schedule">Schedule</a></li>
                <li class="sidebar-item"><a href="/dashboard-attendance">Attendance</a></li>
                <li class="sidebar-item"><a href="/scanner">Scanner</a></li>
                <li class="sidebar-item"><a href="/student-list">Student List</a></li>
                <li class="sidebar-item"><a href="/logout" id="logout">Log out</a></li>
            </ul>
        </aside>

        <!-- Main Content Section -->
        <main class="main-content">
            <!-- Calendar for selecting the day -->
            <div id="calendar-container"></div>

            <!-- Daily Schedule Section -->
            <h2>Daily Schedule for {{selectedDate}}</h2>
            <div class="daily-schedule-container">
                <table class="schedule-table">
                    <thead>
                        <tr>
                            <th>Time Slot</th>
                            <th>Subject</th>
                            <th>Section</th>
                        </tr>
                    </thead>
                    <tbody id="daily-schedule-body">
                        {{#if dailySchedule.length}}
                            {{#each dailySchedule}}
                                <tr>
                                    <td>{{this.time_slot}}</td>
                                    <td class="editable" data-id="{{this.id}}" data-column="subject_name">{{this.subject_name}}</td>
                                    <td class="editable" data-id="{{this.id}}" data-column="section_name">{{this.section_name}}</td>
                                </tr>
                            {{/each}}
                        {{else}}
                            <tr>
                                <td colspan="3">No schedule available for the selected date.</td>
                            </tr>
                        {{/if}}
                    </tbody>
                </table>
            </div>

  <!-- Weekly Schedule Section -->
<!-- Weekly Schedule Section -->
<h2>Weekly Schedule</h2>
<div class="schedule-layout">
    <aside class="table-sidebar">
        <!-- Manage Subject Button -->
        <button id="manageSubjectButton">Manage Subject</button>

        <!-- Input for adding new subject -->
        <input id="newEntryInput" type="text" placeholder="Enter Subject Name" style="display:none;">

        <!-- Manage Section Button -->
        <button id="manageSectionButton">Manage Section</button>

        <!-- Input for adding new section -->
        <input id="newEntryInput" type="text" placeholder="Enter Section Name" style="display:none;">

        <!-- Table for subjects/sections -->
        <table id="manageTable" style="display: none;">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="table-body">
                <!-- Table Body (Subject/Section Data will be dynamically added here) -->
            </tbody>
        </table>

        <!-- Table for manageTable-manager (Subjects/Sections) -->
        <table id="manageTable-manager" style="display: none;">
            <thead>
                <tr>
                    <th>Subject/Section</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="manageTableBody">
                <!-- Dynamic Content Goes Here -->
            </tbody>
        </table>
    </aside>

    <div class="schedule-table-container">
        <table class="schedule-table">
            <thead>
                <tr>
                    <th>Time Slot</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                    <th>Saturday</th>
                </tr>
            </thead>
            <tbody id="schedule-body">
                {{#if weeklySchedule.length}}
                    {{#each weeklySchedule}}
                        <tr>
                           <td class="editable-time" data-id="{{this.id}}" data-column="time_slot">
    <!-- Display time slot, default to "00:00 AM - 00:00 AM" if empty -->
    {{#if this.time_slot}}
        {{this.time_slot}} <!-- Display the actual time slot if available -->
    {{else}}
        00:00 - 00:00  <!-- Default time slot if not available -->
    {{/if}}
</td>

                            <td class="editable" data-id="{{this.id}}" data-column="monday">{{this.monday}} - {{this.mondaySection}}</td>
                            <td class="editable" data-id="{{this.id}}" data-column="tuesday">{{this.tuesday}} - {{this.tuesdaySection}}</td>
                            <td class="editable" data-id="{{this.id}}" data-column="wednesday">{{this.wednesday}} - {{this.wednesdaySection}}</td>
                            <td class="editable" data-id="{{this.id}}" data-column="thursday">{{this.thursday}} - {{this.thursdaySection}}</td>
                            <td class="editable" data-id="{{this.id}}" data-column="friday">{{this.friday}} - {{this.fridaySection}}</td>
                            <td class="editable" data-id="{{this.id}}" data-column="saturday">{{this.saturday}} - {{this.saturdaySection}}</td>
                        </tr>
                    {{/each}}
                {{else}}
                    <tr>
                        <td colspan="7">No weekly schedule available.</td>
                    </tr>
                {{/if}}
            </tbody>
        </table>
    </div>
</div>

<!-- Modal for editing time slot -->
<div id="timeModal" style="display: none;">
    <div id="modalContent">
        <label for="startTime">Start Time:</label>
        <!-- Time input field for start time -->
        <input type="time" id="startTime" pattern="(0[1-9]|1[0-2]):[0-5][0-9](?:AM|PM)">

        <label for="endTime">End Time:</label>
        <!-- Time input field for end time -->
        <input type="time" id="endTime" pattern="(0[1-9]|1[0-2]):[0-5][0-9](?:AM|PM)">

        <button id="saveTimeButton">Save</button>
        <button id="closeModalButton">Close</button>
    </div>
</div>

<script src="schedule.js"></script>
</body>
</html>

